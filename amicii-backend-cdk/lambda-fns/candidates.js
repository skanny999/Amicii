"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const db_1 = require("./db");
const sqlCommands_1 = require("./sqlCommands");
async function candidates(userId) {
    const db = await db_1.getDB();
    const allCandidatesIds = await db.$queryRaw(sqlCommands_1.candidatesQuery(userId));
    const allCandidates = await db.user.findMany({
        where: {
            id: {
                in: allCandidatesIds.map((item) => item.ID)
            }
        }
    });
    return allCandidates;
}
exports.default = candidates;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FuZGlkYXRlcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImNhbmRpZGF0ZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSw2QkFBNEI7QUFDNUIsK0NBQStDO0FBRS9DLEtBQUssVUFBVSxVQUFVLENBQUMsTUFBYztJQUNwQyxNQUFNLEVBQUUsR0FBRyxNQUFNLFVBQUssRUFBRSxDQUFBO0lBQ3hCLE1BQU0sZ0JBQWdCLEdBQUcsTUFBTSxFQUFFLENBQUMsU0FBUyxDQUFDLDZCQUFlLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQTtJQUNwRSxNQUFNLGFBQWEsR0FBRyxNQUFNLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDO1FBQ3pDLEtBQUssRUFBRTtZQUNILEVBQUUsRUFBRTtnQkFDQSxFQUFFLEVBQUUsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBb0IsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQzthQUM5RDtTQUNKO0tBQ0osQ0FBQyxDQUFBO0lBQ0YsT0FBTyxhQUFhLENBQUE7QUFDeEIsQ0FBQztBQUVELGtCQUFlLFVBQVUsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldERCIH0gZnJvbSAnLi9kYidcbmltcG9ydCB7IGNhbmRpZGF0ZXNRdWVyeSB9IGZyb20gJy4vc3FsQ29tbWFuZHMnXG5cbmFzeW5jIGZ1bmN0aW9uIGNhbmRpZGF0ZXModXNlcklkOiBzdHJpbmcpIHtcbiAgICBjb25zdCBkYiA9IGF3YWl0IGdldERCKClcbiAgICBjb25zdCBhbGxDYW5kaWRhdGVzSWRzID0gYXdhaXQgZGIuJHF1ZXJ5UmF3KGNhbmRpZGF0ZXNRdWVyeSh1c2VySWQpKVxuICAgIGNvbnN0IGFsbENhbmRpZGF0ZXMgPSBhd2FpdCBkYi51c2VyLmZpbmRNYW55KHtcbiAgICAgICAgd2hlcmU6IHsgXG4gICAgICAgICAgICBpZDoge1xuICAgICAgICAgICAgICAgIGluOiBhbGxDYW5kaWRhdGVzSWRzLm1hcCgoaXRlbTogeyBJRDogc3RyaW5nIH0pID0+IGl0ZW0uSUQpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBhbGxDYW5kaWRhdGVzXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNhbmRpZGF0ZXMiXX0=