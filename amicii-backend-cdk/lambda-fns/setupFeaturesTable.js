"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const db_1 = require("./db");
const sqlCommands_1 = require("./sqlCommands");
async function setupFeaturesTable() {
    const db = await db_1.getDB();
    try {
        await Promise.all([
            db.$queryRaw(sqlCommands_1.createFeaturesTableQuery),
            db.$queryRaw(sqlCommands_1.createFeatureRelationQuery),
            db.$queryRaw(sqlCommands_1.addFeatureToUserForeignKey),
            db.$queryRaw(sqlCommands_1.addUserToFeatureForeignKey),
            db.$queryRaw(sqlCommands_1.addDefaultFeature1),
            db.$queryRaw(sqlCommands_1.addDefaultFeature2),
            db.$queryRaw(sqlCommands_1.addDefaultFeature3),
            db.$queryRaw(sqlCommands_1.addDefaultFeature4),
            db.$queryRaw(sqlCommands_1.addDefaultFeature5),
            db.$queryRaw(sqlCommands_1.addDefaultFeature6),
            db.$queryRaw(sqlCommands_1.addDefaultFeature7),
            db.$queryRaw(sqlCommands_1.addDefaultFeature8),
            db.$queryRaw(sqlCommands_1.addDefaultFeature9),
            db.$queryRaw(sqlCommands_1.addDefaultFeature10)
        ]);
        return true;
    }
    catch (e) {
        console.log('MySQL error: ', e);
        return false;
    }
}
exports.default = setupFeaturesTable;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2V0dXBGZWF0dXJlc1RhYmxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsic2V0dXBGZWF0dXJlc1RhYmxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsNkJBQTRCO0FBQzVCLCtDQWM4QztBQUU5QyxLQUFLLFVBQVUsa0JBQWtCO0lBQzdCLE1BQU0sRUFBRSxHQUFHLE1BQU0sVUFBSyxFQUFFLENBQUE7SUFDeEIsSUFBSTtRQUNBLE1BQU0sT0FBTyxDQUFDLEdBQUcsQ0FBQztZQUNkLEVBQUUsQ0FBQyxTQUFTLENBQUMsc0NBQXdCLENBQUM7WUFDdEMsRUFBRSxDQUFDLFNBQVMsQ0FBQyx3Q0FBMEIsQ0FBQztZQUN4QyxFQUFFLENBQUMsU0FBUyxDQUFDLHdDQUEwQixDQUFDO1lBQ3hDLEVBQUUsQ0FBQyxTQUFTLENBQUMsd0NBQTBCLENBQUM7WUFDeEMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxnQ0FBa0IsQ0FBQztZQUNoQyxFQUFFLENBQUMsU0FBUyxDQUFDLGdDQUFrQixDQUFDO1lBQ2hDLEVBQUUsQ0FBQyxTQUFTLENBQUMsZ0NBQWtCLENBQUM7WUFDaEMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxnQ0FBa0IsQ0FBQztZQUNoQyxFQUFFLENBQUMsU0FBUyxDQUFDLGdDQUFrQixDQUFDO1lBQ2hDLEVBQUUsQ0FBQyxTQUFTLENBQUMsZ0NBQWtCLENBQUM7WUFDaEMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxnQ0FBa0IsQ0FBQztZQUNoQyxFQUFFLENBQUMsU0FBUyxDQUFDLGdDQUFrQixDQUFDO1lBQ2hDLEVBQUUsQ0FBQyxTQUFTLENBQUMsZ0NBQWtCLENBQUM7WUFDaEMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxpQ0FBbUIsQ0FBQztTQUNwQyxDQUFDLENBQUE7UUFDRixPQUFPLElBQUksQ0FBQztLQUNmO0lBQUMsT0FBTyxDQUFDLEVBQUU7UUFDUixPQUFPLENBQUMsR0FBRyxDQUFDLGVBQWUsRUFBRSxDQUFDLENBQUMsQ0FBQTtRQUMvQixPQUFPLEtBQUssQ0FBQTtLQUNmO0FBQ0wsQ0FBQztBQUVELGtCQUFlLGtCQUFrQixDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0REIgfSBmcm9tICcuL2RiJ1xuaW1wb3J0IHsgXG4gICAgY3JlYXRlRmVhdHVyZXNUYWJsZVF1ZXJ5LCBcbiAgICBhZGRGZWF0dXJlVG9Vc2VyRm9yZWlnbktleSwgXG4gICAgYWRkVXNlclRvRmVhdHVyZUZvcmVpZ25LZXksIFxuICAgIGFkZERlZmF1bHRGZWF0dXJlMSwgXG4gICAgY3JlYXRlRmVhdHVyZVJlbGF0aW9uUXVlcnksIFxuICAgIGFkZERlZmF1bHRGZWF0dXJlMixcbiAgICBhZGREZWZhdWx0RmVhdHVyZTMsXG4gICAgYWRkRGVmYXVsdEZlYXR1cmU0LFxuICAgIGFkZERlZmF1bHRGZWF0dXJlNSxcbiAgICBhZGREZWZhdWx0RmVhdHVyZTYsXG4gICAgYWRkRGVmYXVsdEZlYXR1cmU3LFxuICAgIGFkZERlZmF1bHRGZWF0dXJlOCxcbiAgICBhZGREZWZhdWx0RmVhdHVyZTksXG4gICAgYWRkRGVmYXVsdEZlYXR1cmUxMH0gZnJvbSAnLi9zcWxDb21tYW5kcyc7XG5cbmFzeW5jIGZ1bmN0aW9uIHNldHVwRmVhdHVyZXNUYWJsZSgpIHtcbiAgICBjb25zdCBkYiA9IGF3YWl0IGdldERCKClcbiAgICB0cnkge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICBkYi4kcXVlcnlSYXcoY3JlYXRlRmVhdHVyZXNUYWJsZVF1ZXJ5KSxcbiAgICAgICAgICAgIGRiLiRxdWVyeVJhdyhjcmVhdGVGZWF0dXJlUmVsYXRpb25RdWVyeSksXG4gICAgICAgICAgICBkYi4kcXVlcnlSYXcoYWRkRmVhdHVyZVRvVXNlckZvcmVpZ25LZXkpLFxuICAgICAgICAgICAgZGIuJHF1ZXJ5UmF3KGFkZFVzZXJUb0ZlYXR1cmVGb3JlaWduS2V5KSxcbiAgICAgICAgICAgIGRiLiRxdWVyeVJhdyhhZGREZWZhdWx0RmVhdHVyZTEpLFxuICAgICAgICAgICAgZGIuJHF1ZXJ5UmF3KGFkZERlZmF1bHRGZWF0dXJlMiksXG4gICAgICAgICAgICBkYi4kcXVlcnlSYXcoYWRkRGVmYXVsdEZlYXR1cmUzKSxcbiAgICAgICAgICAgIGRiLiRxdWVyeVJhdyhhZGREZWZhdWx0RmVhdHVyZTQpLFxuICAgICAgICAgICAgZGIuJHF1ZXJ5UmF3KGFkZERlZmF1bHRGZWF0dXJlNSksXG4gICAgICAgICAgICBkYi4kcXVlcnlSYXcoYWRkRGVmYXVsdEZlYXR1cmU2KSxcbiAgICAgICAgICAgIGRiLiRxdWVyeVJhdyhhZGREZWZhdWx0RmVhdHVyZTcpLFxuICAgICAgICAgICAgZGIuJHF1ZXJ5UmF3KGFkZERlZmF1bHRGZWF0dXJlOCksXG4gICAgICAgICAgICBkYi4kcXVlcnlSYXcoYWRkRGVmYXVsdEZlYXR1cmU5KSxcbiAgICAgICAgICAgIGRiLiRxdWVyeVJhdyhhZGREZWZhdWx0RmVhdHVyZTEwKVxuICAgICAgICBdKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdNeVNRTCBlcnJvcjogJywgZSlcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBzZXR1cEZlYXR1cmVzVGFibGUiXX0=